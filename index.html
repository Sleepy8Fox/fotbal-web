<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ml√°de≈æ TJ KOVOHU≈§ƒö Podles√≠/SK LITAVAN Bohut√≠n</title>
    <meta name="google-site-verification" content="RDHoDSTuNxmcyROKl9FaRO8Y1kMLQ7zMHN2_oUnqAhg" />
    <link rel="icon" type="image/png" href="/images/mic.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="login-container">
            <form id="login-form">
                <h3>P≈ôihl√°≈°en√≠ admina</h3>
                <div class="email">
                    <input type="email" id="email" placeholder="Email">
                </div>
    
                <div class="password-row">
                    <input type="password" id="password" placeholder="Heslo">
                    <button id="login-btn" type="button">P≈ôihl√°sit se</button>
                </div>
            </form>
        </div>
        <h1>Ml√°de≈æ TJ KOVOHU≈§ƒö Podles√≠/SK LITAVAN Bohut√≠n</h1>
        <button class="menu-toggle" aria-label="Otev≈ô√≠t menu">‚ò∞ Menu</button>
        <nav>
            <ul>
                <li class="znakp"><a href="pages/podlesi.html">Znak Podles√≠</a></li>
                <li class="selected"><a href="index.html">Aktu√°lnƒõ</a></li>
                <li>
                    <a class ="navbutton" href="#">Z√°zem√≠</a>
                    <ul class="submenu">
                        <li><a href="pages/bohutin.html">Bohut√≠n</a></li>
                        <li><a href="pages/podlesi.html">Podles√≠</a></li>
                        <li><a href="pages/lhota.html">Lhota u P≈ô√≠brami</a></li>
                    </ul>
                </li>
                <li>
                    <a class ="navbutton" href="#">Roƒçn√≠k</a>
                    <ul class="submenu_r">
                        <li><a href="pages/dorost.html">Dorost (2009 - 2011)</a></li>
                        <li><a href="pages/szaci.html">Star≈°√≠ ≈æ√°ci (2011 - 2012)</a></li>
                        <li><a href="pages/mzaci.html">Mlad≈°√≠ ≈æ√°ci (2013 - 2014)</a></li>
                        <li><a href="pages/sprip.html">Star≈°√≠ p≈ô√≠pravka (2015 - 2016)</a></li>
                        <li><a href="pages/mprip.html">Mlad≈°√≠ p≈ô√≠pravka (2017 - 2018)</a></li>
                        <li><a href="pages/miniprip.html">Minip≈ô√≠pravka (2019 a mlad≈°√≠)</a></li>
                    </ul>
                </li>
                <li><a href="pages/contact.html">Kontakty</a></li>
                <li class="znakb"><a href="pages/bohutin.html">Znak Bohut√≠n</a></li>
            </ul>
        </nav>
    </header>
    <div class="admin" id="admin-controls" style="display:none;">
        <h3>Admin panel</h3>
        <button id="logout-btn">Odhl√°sit se</button>
        <h3>P≈ôidat z√°pas</h3>
        <form id="zapas-form">
            <input type="text" id="rok" placeholder="Roƒçn√≠k" required>
            <input type="text" id="domaci" placeholder="Dom√°c√≠" required>
            <input type="text" id="skore" placeholder="Sk√≥re (nap≈ô. 2 : 1)" required>
            <input type="text" id="hoste" placeholder="Host√©" required>
            <button type="submit">P≈ôidat z√°pas</button>
        </form>
    </div>
    <section class="zapasy-container">
        <!-- Lev√° strana ‚Äì v√Ωsledky -->
        <div class="zapasy-box">
            <h2>V√Ωsledky z√°pas≈Ø</h2>
            <!-- Sem m≈Ø≈æe≈° vlo≈æit v√Ωpis z√°pas≈Ø -->
            <div class="zapas-blok"></div>
        </div>

        <!-- Oddƒõlovaƒç -->
        <div class="vert-divider"></div>

        <!-- Prav√° strana ‚Äì sponzo≈ôi -->
        <div class="sponzori-box">
            <h2>Sponzo≈ôi</h2>
            <!-- TODO sponzo≈ôi -->
        </div>
    </section>
    <footer>
        <div class="footer-content">
        <p>¬© 2025 TJ KOVOHU≈§ƒö Podles√≠ / SK LITAVAN Bohut√≠n</p>
    </footer>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('nav ul');

            navToggle.addEventListener('click', function () {
                navMenu.classList.toggle('show');
            });

            const buttons = document.querySelectorAll('.navbutton');
            buttons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    const parent = button.parentElement;
                    document.querySelectorAll('nav ul li.active').forEach(item => {
                        if (item !== parent) item.classList.remove('active');
                    });
                    parent.classList.toggle('active');
                });
            });
        });
    </script>

    <script>
        const firebaseConfig = {
        apiKey: "AIzaSyBCP2Hp957DSfu0FHjlhovdn0lmGDQOlOo",
        authDomain: "fotbalovy-tym.firebaseapp.com",
        databaseURL: "https://fotbalovy-tym-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "fotbalovy-tym",
        storageBucket: "fotbalovy-tym.firebasestorage.app",
        messagingSenderId: "1023126508249",
        appId: "1:1023126508249:web:de0e240e881dcfe8e764c8"
        };

    firebase.initializeApp(firebaseConfig);
    </script>
    <script>
        const db = firebase.database();
        const loginBtn = document.getElementById("login-btn");
        const emailInput = document.getElementById("email");
        const passInput = document.getElementById("password");
        const adminControls = document.getElementById("admin-controls");
        const loginForm = document.getElementById("login-form");
        const zapasForm = document.getElementById("zapas-form");

        // P≈ôihl√°≈°en√≠
        loginBtn.addEventListener("click", () => {
            const email = emailInput.value;
            const password = passInput.value;
            firebase.auth().signInWithEmailAndPassword(email, password)
            .then(() => {
                adminControls.style.display = "block";
                loginForm.style.display = "none";
            })
            .catch(err => alert("P≈ôihl√°≈°en√≠ selhalo: " + err.message));
        });

        const logoutBtn = document.getElementById("logout-btn");

        logoutBtn.addEventListener("click", () => {
            firebase.auth().signOut()
            .then(() => {
                adminControls.style.display = "none";
                loginForm.style.display = "block";
                })
            .catch((error) => {
                alert("Chyba p≈ôi odhla≈°ov√°n√≠: " + error.message);
            });
        });

        firebase.auth().onAuthStateChanged(user => {
            if (user) {
                adminControls.style.display = "block";
                loginForm.style.display = "none";
            } else {
                adminControls.style.display = "none";
                loginForm.style.display = "block";
            }
        });

        // P≈ôid√°n√≠ z√°pasu
        zapasForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const rok = document.getElementById("rok").value;
            const domaci = document.getElementById("domaci").value;
            const skore = document.getElementById("skore").value;
            const hoste = document.getElementById("hoste").value;

            const novyZapas = db.ref("zapasy").push();
            novyZapas.set({ rok, domaci, skore, hoste });

            zapasForm.reset();
        });

        // V√Ωpis z√°pas≈Ø
        const zapasyContainer = document.querySelector(".zapas-blok");
        firebase.database().ref("zapasy").on("value", snapshot => {
            const data = snapshot.val();
            // Odstranit star√© z√°pasy (ponech√° nadpis a formul√°≈ô)
            document.querySelectorAll(".zapas-blok.dynamicky").forEach(e => e.remove());

            for (let id in data) {
                const z = data[id];
                const blok = document.createElement("div");
                blok.className = "zapas-blok dynamicky";
                blok.innerHTML = `
                <div class="rok">${z.rok}</div>
                <div class="zapas">
                <span class="domaci">${z.domaci}</span>
                <span class="skore">${z.skore}</span>
                <span class="hoste">${z.hoste}</span>
                <button class="smazat" data-id="${id}" style="display:none;">üóëÔ∏è</button>
                </div>
                `;
                zapasyContainer.appendChild(blok);
            }

            // Zobraz tlaƒç√≠tka pro smaz√°n√≠, pokud je admin p≈ôihl√°≈°en
            firebase.auth().onAuthStateChanged(user => {
                const delBtns = document.querySelectorAll(".smazat");
                delBtns.forEach(btn => {
                    btn.style.display = user ? "inline-block" : "none";
                    btn.onclick = () => db.ref("zapasy/" + btn.dataset.id).remove();
                });
            });
        });
    </script>
</body>

</html>

